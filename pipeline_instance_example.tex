\begin{example}[\bf \pipelineInstance]\label{ex:instance}

  Let us consider a subset \{\vi{6}, \vi{7}, \vi{8}\} of the pipeline template \tChartFunction in \cref{sec:example}.

  Each vertex is associated with three candidate services, each having a profile. The filtering algorithm matches each candidate service's profile with the policies annotating the corresponding vertex. It returns the set of services whose profile matches a policy.
  \begin{enumerate*}[label=\textit{\roman*})]
    \item For \vi{6}, the filtering algorithm produces the set $S'_1=\{s_{11},s_{12}\}$; assuming that the dataset owner is ``CT'', the service profile of \s{11} matches \p{1} and the one of \s{12} matches \p{2}.
          For \s{13}, there is no policy match and, thus, it is discarded.
    \item For \vi{7}, the filtering algorithm returns the set $S'_2=\{s_{22},s_{23}\}$; assuming that the dataset region is ``CT'', the service profile of \s{22} matches \p{5} and the one of \s{23} matches \p{6}.
          For \s{21}, there is no policy match and, thus, it is discarded.
    \item For \vi{8}, the filtering algorithm returns the set $S'_3=\{s_{31},s_{32},s_{33}\}$. Since policy \p{7} matches with any subjects, the filtering algorithm does not discard any service.
  \end{enumerate*}

  The comparison algorithm is then applied to the set of services $S'_*$ and it returns a ranking of the services.
  The ranking is based on the amount of data that is anonymized by the service.
  The ranking is listed in \cref{tab:instance_example} and it is based on the transformation function of the policies,
  assuming that a more restrictive transformation function anonymizes more data affecting negatively the position in the ranking.
  For example, \s{11} is ranked first because it anonymizes less data than \s{12} and \s{13}.
  The ranking of \s{22} and \s{23} is based on the same logic.
  Finally, the ranking of \s{31}, \s{32} is influenced by the environment state at the time of the ranking.
  For example, if the environment in which the visualization is performed is a CT facility, then \s{31} is ranked first and \s{32} second;
  thus because the facility is considered a less risky environment than the cloud.



  \begin{table*}
    \def\arraystretch{1.5}
    \caption{Instance example}\label{tab:instance_example}

    \centering
    \begin{tabular}{l|l|c|c|c}

      \textbf{Vertex$\rightarrow$Policy}                   & \textbf{Candidate} & \textbf{Profile}                         & \textbf{Filtering} & \textbf{Ranking} \\
      \multirow{ 3}{*}{\vi{4}  $\rightarrow$ \p{1},\p{2} } & $\s{41}$           & service\_owner =    "CT"                 & \cmark             & 1                \\
                                                           & $\s{42}$           & service\_owner =    "NY"                 & \cmark             & 2                \\
                                                           & $\s{43}$           & service\_owner =    "CA"                 & \xmark             & 3                \\
      \hline
      \multirow{ 3}{*}{\vi{7}  $\rightarrow$ \p{5},\p{6} } & $\s{71}$           & service\_region =    "CA"                & \xmark             & --               \\
                                                           & $\s{72}$           & service\_region =    "CT"                & \cmark             & 1                \\
                                                           & $\s{73}$           & service\_region =    "NY"                & \cmark             & 2                \\
      \hline
      \multirow{ 3}{*}{\vi{8}  $\rightarrow$ \p{7},\p{8} } & $\s{81}$           & visualization\_location = "CT\_FACILITY" & \cmark             & 1                \\
                                                           & $\s{82}$           & visualization\_location = "CLOUD"        & \cmark             & 2                \\
      \hline
    \end{tabular}
  \end{table*}




\end{example}

